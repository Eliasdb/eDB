server {
    listen 80;
    root /etc/nginx/html/admin-app;
    index index.html;

    # 1) Serve everything at container-root (/)
    location / {
        try_files $uri $uri/ /index.html;
    }

    # 2) JS & MJS modules
    location ~* \.(?:js|mjs)$ {
        types {
            application/javascript js mjs;
        }
        default_type application/javascript;
        add_header Content-Type application/javascript always;
        try_files $uri =404;
    }

    # 3) Other static assets
    location ~* \.(?:ico|css|json|woff2?|ttf|otf|eot|svg|jpg|jpeg|gif|png|webp)$ {
        expires 6M;
        access_log off;
        add_header Cache-Control "public";
        try_files $uri =404;
    }
}
